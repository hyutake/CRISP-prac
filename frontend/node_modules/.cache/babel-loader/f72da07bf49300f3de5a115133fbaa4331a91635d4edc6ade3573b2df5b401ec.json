{"ast":null,"code":"var _jsxFileName = \"/Users/matthewsamynathan/Documents/GitHub/CRISP-prac/frontend/src/components/Tasks/TaskForm.js\",\n  _s = $RefreshSig$();\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { taskActions } from \"../../store/task-slice\";\nimport { useRef } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./TaskForm.module.css\";\nimport { uiActions } from \"../../store/ui-slice\";\nimport { fetchTasks } from \"../../store/useFetchTasks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TaskForm() {\n  _s();\n  const dispatch = useDispatch();\n\n  // const isEdit = useSelector((state) => state.ui.isEdit)\n  const task = useSelector(state => state.ui.task);\n\n  // I forgor whats the best way to perform input validation :/\n  const titleRef = useRef();\n  const descRef = useRef();\n  const deadlineRef = useRef();\n  const isEditTask = task ? true : false;\n  console.log(\"isEditTask: \" + isEditTask);\n  function onHide() {\n    dispatch(uiActions.hideTaskForm());\n  }\n  function submitHandler(event) {\n    event.preventDefault();\n\n    // get the submitted values\n    const enteredTitle = titleRef.current.value;\n    const enteredDesc = descRef.current.value;\n    const enteredDeadline = deadlineRef.current.value;\n\n    // perform checks\n    if (enteredTitle.trim().length === 0 || enteredDesc.trim().length === 0 || enteredDeadline.trim().length === 0) {\n      // report error (somehow), prolly by changing the styles\n      return;\n    }\n    const editedTask = {\n      ...task,\n      title: enteredTitle,\n      description: enteredDesc,\n      deadline: enteredDeadline\n    };\n    if (isEditTask) {\n      console.log(\"in taskform, edited task:\", editedTask);\n      //   dispatch(taskActions.editTask(editedTask))\n      //   dispatch(fetchTasks())\n      //     .then((tasks) => {\n      //       // Handle the fetched tasks\n      //       dispatch(taskActions.setTask(tasks));\n      //       console.log(\"editing tasks: \" + tasks);\n      //     })\n      //     .catch((error) => {\n      //       // Handle error if any\n      //       console.log(error);\n      //     });\n\n      //dispatch(fetchTasks());\n\n      dispatch(taskActions.editTask(editedTask));\n      new Promise((resolve, reject) => {\n        resolve(dispatch(fetchTasks()));\n      }).then(tasks => {\n        // Handle the fetched tasks\n        dispatch(taskActions.setTask(tasks));\n        console.log(\"editing tasks: \", tasks);\n      }).catch(error => {\n        // Handle error if any\n        console.log(error);\n      });\n    } else {\n      dispatch(taskActions.addTask(editedTask));\n      dispatch(fetchTasks()).then(tasks => {\n        // Handle the fetched tasks\n        dispatch(taskActions.setTask(tasks));\n        console.log(tasks);\n      }).catch(error => {\n        // Handle error if any\n        console.log(error);\n      });\n      //dispatch(fetchTasks());\n    }\n\n    onHide();\n  }\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onHide: onHide,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: titleRef,\n            id: \"title\",\n            type: \"text\",\n            name: \"title\",\n            placeholder: \"Insert title here...\",\n            defaultValue: task ? task.title : \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"desc\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: descRef,\n            id: \"desc\",\n            type: \"text\",\n            rows: \"5\",\n            name: \"desc\",\n            placeholder: \"Insert description here...\",\n            defaultValue: task ? task.desc : \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"deadline\",\n            children: \"Deadline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: deadlineRef,\n            id: \"deadline\",\n            type: \"date\",\n            name: \"deadline\",\n            min: \"2023-05-01\",\n            max: \"2023-12-15\",\n            defaultValue: task ? task.deadline : \"\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onHide,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: task ? \"Update task\" : \"Add task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskForm, \"N5LeUt7D+cvXlO/BG+VG6LpgRhs=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = TaskForm;\nexport default TaskForm;\nvar _c;\n$RefreshReg$(_c, \"TaskForm\");","map":{"version":3,"names":["useSelector","useDispatch","taskActions","useRef","Modal","classes","uiActions","fetchTasks","jsxDEV","_jsxDEV","TaskForm","_s","dispatch","task","state","ui","titleRef","descRef","deadlineRef","isEditTask","console","log","onHide","hideTaskForm","submitHandler","event","preventDefault","enteredTitle","current","value","enteredDesc","enteredDeadline","trim","length","editedTask","title","description","deadline","editTask","Promise","resolve","reject","then","tasks","setTask","catch","error","addTask","children","onSubmit","className","form","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","ref","id","type","name","placeholder","defaultValue","required","rows","desc","min","max","actions","onClick","_c","$RefreshReg$"],"sources":["/Users/matthewsamynathan/Documents/GitHub/CRISP-prac/frontend/src/components/Tasks/TaskForm.js"],"sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport { taskActions } from \"../../store/task-slice\";\nimport { useRef } from \"react\";\nimport Modal from \"../UI/Modal\";\nimport classes from \"./TaskForm.module.css\";\nimport { uiActions } from \"../../store/ui-slice\";\nimport { fetchTasks } from \"../../store/useFetchTasks\";\n\nfunction TaskForm() {\n  const dispatch = useDispatch();\n\n  // const isEdit = useSelector((state) => state.ui.isEdit)\n  const task = useSelector((state) => state.ui.task);\n\n  // I forgor whats the best way to perform input validation :/\n  const titleRef = useRef();\n  const descRef = useRef();\n  const deadlineRef = useRef();\n\n  const isEditTask = task ? true : false;\n\n  console.log(\"isEditTask: \" + isEditTask);\n\n  function onHide() {\n    dispatch(uiActions.hideTaskForm());\n  }\n\n  function submitHandler(event) {\n    event.preventDefault();\n\n    // get the submitted values\n    const enteredTitle = titleRef.current.value;\n    const enteredDesc = descRef.current.value;\n    const enteredDeadline = deadlineRef.current.value;\n\n    // perform checks\n    if (\n      enteredTitle.trim().length === 0 ||\n      enteredDesc.trim().length === 0 ||\n      enteredDeadline.trim().length === 0\n    ) {\n      // report error (somehow), prolly by changing the styles\n      return;\n    }\n\n    const editedTask = {\n      ...task,\n      title: enteredTitle,\n      description: enteredDesc,\n      deadline: enteredDeadline,\n    };\n\n    if (isEditTask) {\n      console.log(\"in taskform, edited task:\", editedTask);\n      //   dispatch(taskActions.editTask(editedTask))\n      //   dispatch(fetchTasks())\n      //     .then((tasks) => {\n      //       // Handle the fetched tasks\n      //       dispatch(taskActions.setTask(tasks));\n      //       console.log(\"editing tasks: \" + tasks);\n      //     })\n      //     .catch((error) => {\n      //       // Handle error if any\n      //       console.log(error);\n      //     });\n\n      //dispatch(fetchTasks());\n\n      dispatch(taskActions.editTask(editedTask));\n\n      new Promise((resolve, reject) => {\n        resolve(dispatch(fetchTasks()));\n      })\n        .then((tasks) => {\n          // Handle the fetched tasks\n          dispatch(taskActions.setTask(tasks));\n          console.log(\"editing tasks: \", tasks);\n        })\n        .catch((error) => {\n          // Handle error if any\n          console.log(error);\n        });\n    } else {\n      dispatch(taskActions.addTask(editedTask));\n\n      dispatch(fetchTasks())\n        .then((tasks) => {\n          // Handle the fetched tasks\n          dispatch(taskActions.setTask(tasks));\n          console.log(tasks);\n        })\n        .catch((error) => {\n          // Handle error if any\n          console.log(error);\n        });\n      //dispatch(fetchTasks());\n    }\n\n    onHide();\n  }\n\n  return (\n    <Modal onHide={onHide}>\n      <form onSubmit={submitHandler}>\n        <div className={classes.form}>\n          <p>\n            <label htmlFor=\"title\">Title</label>\n            <input\n              ref={titleRef}\n              id=\"title\"\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"Insert title here...\"\n              defaultValue={task ? task.title : \"\"}\n              required\n            />\n          </p>\n          <p>\n            <label htmlFor=\"desc\">Description</label>\n            <textarea\n              ref={descRef}\n              id=\"desc\"\n              type=\"text\"\n              rows=\"5\"\n              name=\"desc\"\n              placeholder=\"Insert description here...\"\n              defaultValue={task ? task.desc : \"\"}\n              required\n            />\n          </p>\n          <p>\n            <label htmlFor=\"deadline\">Deadline</label>\n            <input\n              ref={deadlineRef}\n              id=\"deadline\"\n              type=\"date\"\n              name=\"deadline\"\n              min=\"2023-05-01\"\n              max=\"2023-12-15\"\n              defaultValue={task ? task.deadline : \"\"}\n              required\n            />\n          </p>\n        </div>\n        <div className={classes.actions}>\n          <button type=\"button\" onClick={onHide}>\n            Cancel\n          </button>\n          <button>{task ? \"Update task\" : \"Add task\"}</button>\n        </div>\n      </form>\n    </Modal>\n  );\n}\n\nexport default TaskForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}