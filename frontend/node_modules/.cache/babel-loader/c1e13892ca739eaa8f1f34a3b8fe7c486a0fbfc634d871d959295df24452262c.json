{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport useFetchTasks, { fetchTasks, useInitTasks } from \"./useFetchTasks\";\nconst initialTaskState = {\n  tasks: []\n  //quantity: 0,\n};\n\nconst taskSlice = createSlice({\n  name: \"task\",\n  initialState: initialTaskState,\n  reducers: {\n    addTask(state, action) {\n      // action will pass an entire task object\n      const task = action.payload;\n      state.tasks.push({\n        id: task.id,\n        title: task.title,\n        description: task.description,\n        deadline: task.deadline,\n        status: \"In progress\",\n        // newly added tasks will ALWAYS be 'In progress'\n        completedDate: null // newly added tasks will not have a completedDate value yet\n      });\n\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    },\n    removeTask(state, action) {\n      // action will pass the id of a task\n      const id = action.payload;\n      state.tasks = state.tasks.filter(task => task.id !== id);\n    },\n    editTask(state, action) {\n      //dispatch can be taken in as arg\n      // action will pass the edited task\n      const editedTask = action.payload;\n\n      // Find the index of the task with the matching id in the state.tasks array\n      console.log(state.tasks);\n      console.log(editedTask);\n      const task = state.tasks.find(task => task.id === editedTask.id);\n      console.log(task);\n      if (task !== null) {\n        // Update the task properties with the new values from the payload\n        task.title = editedTask.title;\n        task.description = editedTask.description;\n        task.deadline = editedTask.deadline;\n        task.completed = editedTask.completed;\n      }\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    },\n    setTask(state, action) {\n      state.tasks = action.payload;\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    }\n  }\n});\nexport const taskActions = taskSlice.actions;\nexport default taskSlice;","map":{"version":3,"names":["createSlice","axios","useFetchTasks","fetchTasks","useInitTasks","initialTaskState","tasks","taskSlice","name","initialState","reducers","addTask","state","action","task","payload","push","id","title","description","deadline","status","completedDate","sort","a","b","Date","removeTask","filter","editTask","editedTask","console","log","find","completed","setTask","taskActions","actions"],"sources":["/Users/matthewsamynathan/Documents/GitHub/CRISP-prac/frontend/src/store/task-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport useFetchTasks, { fetchTasks, useInitTasks } from \"./useFetchTasks\";\nconst initialTaskState = {\n  tasks: [],\n  //quantity: 0,\n};\n\nconst taskSlice = createSlice({\n  name: \"task\",\n  initialState: initialTaskState,\n  reducers: {\n    addTask(state, action) {\n      // action will pass an entire task object\n      const task = action.payload;\n\n      state.tasks.push({\n        id: task.id,\n        title: task.title,\n        description: task.description,\n        deadline: task.deadline,\n        status: \"In progress\", // newly added tasks will ALWAYS be 'In progress'\n        completedDate: null, // newly added tasks will not have a completedDate value yet\n      });\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    },\n    removeTask(state, action) {\n      // action will pass the id of a task\n      const id = action.payload;\n      state.tasks = state.tasks.filter((task) => task.id !== id);\n    },\n    editTask(state, action) {\n      //dispatch can be taken in as arg\n      // action will pass the edited task\n      const editedTask = action.payload;\n\n      // Find the index of the task with the matching id in the state.tasks array\n      console.log(state.tasks);\n      console.log(editedTask);\n      const task = state.tasks.find((task) => task.id === editedTask.id);\n      console.log(task);\n      if (task !== null) {\n        // Update the task properties with the new values from the payload\n        task.title = editedTask.title;\n        task.description = editedTask.description;\n        task.deadline = editedTask.deadline;\n        task.completed = editedTask.completed;\n      }\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    },\n    setTask(state, action) {\n      state.tasks = action.payload;\n      state.tasks.sort((a, b) => new Date(a.deadline) - new Date(b.deadline));\n    },\n  },\n});\n\nexport const taskActions = taskSlice.actions;\nexport default taskSlice;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}